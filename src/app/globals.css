@import "tailwindcss";

:root {
  --background: #000000;
  --foreground: #f8fafc;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-display: var(--font-display);
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
}

body {
  background: #0b0c10;
  color: var(--foreground);
  font-family: var(--font-sans);
  user-select: none;
}

a,
button,
.hero-tile {
  cursor: pointer;
}


html,
body {
  height: 100%;
}

.scene-root {
  height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: none;
  scroll-behavior: smooth;
  scrollbar-width: none;
}

.scene-root::-webkit-scrollbar {
  display: none;
}

.scene-root.is-dragging {
  user-select: none;
  scroll-behavior: auto;
}

.scene-content {
  position: relative;
  z-index: 2;
}

.scene-panel {
  min-height: 80vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 2.5rem;
  padding: clamp(4rem, 10vh, 7.5rem) 0;
  position: relative;
}

.scene-panel__content {
  width: 100%;
  max-width: 78rem;
  margin: 0 auto;
  padding: 0 2rem;
}

.scene-panel::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 18vh;
  background: linear-gradient(180deg, transparent 0%, rgba(5, 6, 7, 0.55) 100%);
  pointer-events: none;
}

.scene-panel::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 14vh;
  background: linear-gradient(180deg, rgba(5, 6, 7, 0.6) 0%, transparent 100%);
  pointer-events: none;
}

.scene-panel--visual {
  padding: 0;
  display: block;
  min-height: 100vh;
}

.scene-panel--visual::before,
.scene-panel--visual::after {
  display: none;
}

.scene-panel--visual .forest-canvas,
.scene-panel--visual .keyboard-canvas {
  position: relative;
  inset: auto;
  height: 100vh;
}

.scene-panel--visual.is-static {
  min-height: 100vh;
}

.scene-panel--visual.is-static::after {
  display: none;
}

.scene-panel--visual.is-static .forest-canvas {
  position: relative;
  background: #050607;
  display: flex;
  align-items: center;
  transform: scale(1);
  transition: transform 0.6s ease;
}

.scene-panel--visual.is-static * {
  animation: none !important;
  transition: none !important;
}

.scene-panel--visual.hero-zooming .forest-canvas {
  transform: translate3d(0, 8vh, 0) scale(0.92);
  opacity: 0.86;
  transition: transform 0.7s ease, opacity 0.7s ease;
}

.scene-panel--visual.hero-peek .forest-canvas {
  transform: translate3d(0, -1vh, 0) scale(1.01);
  transition: transform 0.25s ease;
}

.transition-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  opacity: 0;
}

.transition-overlay.is-active {
  opacity: 1;
}

.transition-overlay__fog,
.transition-overlay__aberration {
  position: absolute;
  inset: 0;
  opacity: 0;
}

.transition-overlay__fog {
  background:
    linear-gradient(180deg, rgba(240, 244, 255, 0.4) 0%, rgba(240, 244, 255, 0.15) 40%, transparent 90%);
}

.transition-overlay__aberration {
  background:
    linear-gradient(180deg, rgba(255, 80, 80, 0.2) 0%, transparent 45%),
    linear-gradient(180deg, rgba(80, 220, 255, 0.2) 10%, transparent 55%),
    linear-gradient(180deg, rgba(255, 240, 120, 0.15) 0%, transparent 50%);
  mix-blend-mode: screen;
}

.transition-overlay.is-active .transition-overlay__fog {
  animation: fog-wipe 0.7s ease forwards;
}

.transition-overlay.is-active .transition-overlay__aberration {
  animation: aberration-flash 0.55s ease forwards;
}

@keyframes fog-wipe {
  0% {
    opacity: 0;
    transform: translateY(-35%);
  }
  35% {
    opacity: 0.75;
    transform: translateY(-10%);
  }
  100% {
    opacity: 0;
    transform: translateY(20%);
  }
}

@keyframes aberration-flash {
  0% {
    opacity: 0;
    transform: translateY(-20%);
  }
  40% {
    opacity: 0.6;
  }
  100% {
    opacity: 0;
    transform: translateY(10%);
  }
}

.branding-hero {
  width: 100%;
  padding: 6rem 2rem;
}

.branding-grid {
  width: 100%;
  max-width: 72rem;
  margin: 0 auto;
  display: grid;
  gap: 2.5rem;
  align-items: start;
}

.branding-copy {
  display: grid;
  gap: 1.5rem;
}

.branding-eyebrow {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: rgba(226, 232, 240, 0.7);
}

.branding-title {
  font-size: clamp(2rem, 3.4vw, 3.2rem);
  font-weight: 600;
  color: #f8fafc;
  line-height: 1.1;
}

.branding-sub {
  max-width: 34rem;
  font-size: 0.95rem;
  color: rgba(226, 232, 240, 0.78);
  line-height: 1.7;
}

.branding-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.14em;
}

.branding-tags span {
  padding: 0.35rem 0.7rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 999px;
  color: rgba(226, 232, 240, 0.9);
}

.branding-cards {
  display: grid;
  gap: 1rem;
}

.branding-card {
  border: 1px solid rgba(255, 255, 255, 0.12);
  padding: 1.4rem 1.5rem;
  background: #0b0f16;
}

.branding-card__label {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: rgba(148, 163, 184, 0.8);
  margin-bottom: 0.6rem;
}

.branding-card h3 {
  font-size: 1rem;
  font-weight: 600;
  color: #f1f5f9;
}

.branding-card p {
  margin-top: 0.5rem;
  font-size: 0.85rem;
  color: rgba(226, 232, 240, 0.75);
  line-height: 1.6;
}

@media (min-width: 900px) {
  .branding-grid {
    grid-template-columns: 1.1fr 0.9fr;
  }

  .branding-cards {
    gap: 1.2rem;
  }
}

.scene-panel--intro {
  position: relative;
  z-index: 3;
  margin-top: 0;
  background: linear-gradient(180deg, rgba(7, 9, 12, 0.7) 0%, rgba(6, 8, 12, 0.92) 38%, #07090f 100%);
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 -6px 16px rgba(0, 0, 0, 0.25);
  opacity: 1;
  transform: none;
}

.scene-panel--visual::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.4;
  mix-blend-mode: screen;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.08), transparent 55%),
    radial-gradient(circle at 48% 50%, rgba(255, 120, 80, 0.08), transparent 60%),
    radial-gradient(circle at 52% 50%, rgba(80, 160, 255, 0.1), transparent 60%);
  transition: opacity 0.2s ease;
}
.forest-canvas {
  position: absolute;
  inset: 0;
  z-index: 1;
  width: 100%;
  height: 100%;
}

.keyboard-canvas {
  position: relative;
  z-index: 1;
  display: grid;
  place-items: center;
  padding: clamp(1.5rem, 4vw, 3.5rem);
  overflow: hidden;
  min-height: 100vh;
  background:
    radial-gradient(circle at 24% 18%, rgba(255, 255, 255, 0.06), transparent 55%),
    radial-gradient(circle at 72% 32%, rgba(255, 255, 255, 0.05), transparent 60%),
    linear-gradient(145deg, #0c0e12, #171b22 55%, #0a0c10);
}

.keyboard-canvas.is-holding {
  background:
    radial-gradient(circle at 24% 18%, rgba(255, 255, 255, 0.04), transparent 55%),
    radial-gradient(circle at 72% 32%, rgba(255, 255, 255, 0.03), transparent 60%),
    linear-gradient(145deg, #0a0c10, #121720 55%, #07090e);
}

.keyboard-canvas::before {
  content: "";
  position: absolute;
  inset: 0;
  opacity: 0.15;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='0.25'/%3E%3C/svg%3E");
  mix-blend-mode: soft-light;
  pointer-events: none;
  z-index: 0;
}

.keyboard-canvas::after {
  content: "";
  position: absolute;
  inset: -40%;
  background:
    conic-gradient(
      from 110deg,
      rgba(255, 255, 255, 0.08),
      rgba(255, 255, 255, 0.02) 25%,
      rgba(255, 255, 255, 0.09) 45%,
      rgba(255, 255, 255, 0.02) 65%,
      rgba(255, 255, 255, 0.07) 85%,
      rgba(255, 255, 255, 0.04)
    );
  opacity: 0.25;
  pointer-events: none;
  z-index: 0;
}

.portal-shell {
  position: relative;
  width: min(1280px, 94vw);
  aspect-ratio: 16 / 9;
  height: auto;
  display: grid;
  place-items: center;
  z-index: 1;
  transition: transform 0.8s ease;
  overflow: visible;
  perspective: 1400px;
  transform-style: preserve-3d;
}

.portal-frame {
  position: absolute;
  inset: 0;
  border-radius: 22px 22px 18px 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: linear-gradient(160deg, #0b0e13 0%, #0f141b 45%, #0a0d12 100%);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
  overflow: hidden;
  transition: background 0.6s ease, border-color 0.6s ease, box-shadow 0.6s ease;
}

.portal-frame::before {
  content: "";
  position: absolute;
  inset: 1.6%;
  border-radius: 16px 16px 12px 12px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  pointer-events: none;
  transition: opacity 0.6s ease;
}

.portal-frame::after {
  content: "";
  position: absolute;
  top: 7%;
  right: 4%;
  bottom: 7%;
  width: 16%;
  border-radius: 12px;
  background: linear-gradient(180deg, #0b0e13 0%, #0f141b 100%);
  border: 1px solid rgba(255, 255, 255, 0.06);
  pointer-events: none;
  transition: opacity 0.6s ease;
}

.portal-controls {
  position: absolute;
  top: 13%;
  right: 7%;
  width: 10.5%;
  height: 72%;
  display: grid;
  align-content: start;
  gap: 0.7rem;
  color: rgba(226, 232, 240, 0.7);
  font-size: 0.52rem;
  letter-spacing: 0.24em;
  text-transform: uppercase;
}

.portal-controls__label {
  opacity: 0.7;
}

.portal-controls__knob {
  width: 26px;
  height: 26px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: radial-gradient(circle at 35% 30%, rgba(255, 255, 255, 0.18), transparent 55%);
  box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.04);
}

.portal-controls__slider {
  height: 80px;
  width: 4px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.12);
  position: relative;
}

.portal-controls__slider span {
  position: absolute;
  left: 50%;
  top: 24%;
  width: 14px;
  height: 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.5);
  transform: translateX(-50%);
}

.portal-frame .portal-view {
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.portal-view {
  position: absolute;
  top: 7%;
  left: 6%;
  right: 22%;
  bottom: 9%;
  border-radius: 14px;
  background:
    radial-gradient(circle at 40% 22%, rgba(255, 255, 255, 0.12), transparent 52%),
    radial-gradient(circle at 70% 28%, rgba(255, 255, 255, 0.08), transparent 58%),
    radial-gradient(circle at 50% 78%, rgba(60, 66, 78, 0.32), transparent 62%),
    linear-gradient(180deg, #cfd6e0 0%, #b0b8c6 42%, #7b8496 76%, #4b5363 100%);
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.06);
  transition: border-color 0.6s ease;
  perspective: 900px;
  transform-style: preserve-3d;
  transform: translateX(6%) scale(0.88);
  transform-origin: center;
}

.portal-view::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(10, 12, 16, 0.35) 0%, transparent 30%),
    radial-gradient(circle at 50% 95%, rgba(10, 12, 16, 0.45), transparent 60%);
  opacity: 0.65;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.portal-view::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 45%, rgba(255, 255, 255, 0.35), transparent 60%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.12), transparent 40%);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.portal-canvas.is-holding .portal-view::before {
  opacity: 0.85;
}

.portal-canvas.is-holding .portal-view::after {
  opacity: 1;
}

.portal-canvas.is-holding .portal-view {
  opacity: 0.95;
}

.portal-horizon {
  display: none;
}

.portal-structure {
  position: absolute;
  width: min(32%, 280px);
  aspect-ratio: 1 / 1;
  left: 50%;
  top: 52%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.5);
  background:
    radial-gradient(circle at 40% 35%, rgba(255, 255, 255, 0.14), transparent 55%),
    radial-gradient(circle at 60% 70%, rgba(45, 52, 64, 0.35), transparent 60%),
    linear-gradient(180deg, rgba(160, 170, 186, 0.38), rgba(90, 98, 112, 0.6));
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
}

.portal-grain {
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='0.25'/%3E%3C/svg%3E");
  mix-blend-mode: soft-light;
  opacity: 0.3;
  pointer-events: none;
}

.portal-field {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.14), transparent 55%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.12), transparent 55%);
  opacity: 0;
  pointer-events: none;
  transform-origin: center;
}

.portal-burst {
  position: absolute;
  inset: -18%;
  pointer-events: none;
  z-index: 4;
  transform-style: preserve-3d;
  transform-origin: 42% 50%;
  background:
    radial-gradient(circle, rgba(15, 16, 20, 0.8) 0 1px, transparent 1px),
    radial-gradient(circle, rgba(255, 255, 255, 0.55) 0 1px, transparent 1px),
    radial-gradient(circle, rgba(255, 255, 255, 0.25) 0 1px, transparent 1px);
  background-size: 60px 60px, 90px 90px, 140px 140px;
  background-position: 12px 18px, 40px 60px, 70px 30px;
  opacity: 0;
}

.portal-burst::before,
.portal-burst::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle, rgba(15, 16, 20, 0.7) 0 1px, transparent 1px),
    radial-gradient(circle, rgba(255, 255, 255, 0.5) 0 1px, transparent 1px),
    radial-gradient(circle, rgba(255, 255, 255, 0.22) 0 1px, transparent 1px);
}

.portal-burst::before {
  background-size: 50px 50px, 80px 80px, 120px 120px;
  background-position: 18px 26px, 55px 12px, 80px 70px;
  opacity: 0.5;
}

.portal-burst::after {
  background-size: 40px 40px, 70px 70px, 100px 100px;
  background-position: 26px 10px, 70px 30px, 90px 80px;
  opacity: 0.4;
}

.portal-floor {
  display: none;
}

.portal-powerline {
  position: absolute;
  left: 18%;
  right: 18%;
  top: 50%;
  height: 1px;
  background: rgba(255, 255, 255, 0.15);
  opacity: 0;
}

.portal-powerline::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.4);
  transform: translate(-50%, -50%);
}

.portal-canvas.is-holding .portal-powerline {
  opacity: 0.6;
}

.portal-canvas.is-teleport .portal-powerline {
  opacity: 0.8;
  animation: power-line-on 0.6s ease-out forwards;
}

.portal-logo {
  position: absolute;
  left: 6%;
  top: 6%;
  font-family: var(--font-display);
  font-size: clamp(1.4rem, 2.2vw, 2.2rem);
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.9);
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 0.4s ease, transform 0.4s ease;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
}

.portal-meta {
  position: absolute;
  inset: 0;
  padding: clamp(1.2rem, 3vw, 2.6rem);
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: auto 1fr auto;
  gap: 1.2rem;
  z-index: 2;
  color: #f8fafc;
  transition: opacity 0.4s ease;
}

.portal-meta::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(180deg, rgba(6, 8, 12, 0.9) 0%, rgba(6, 8, 12, 0.5) 40%, transparent 75%);
  pointer-events: none;
  z-index: -1;
}

.portal-brand {
  display: grid;
  gap: 0.4rem;
  align-self: start;
  justify-self: start;
  background: rgba(8, 10, 14, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  padding: 0.6rem 0.9rem;
}

.portal-brand__name {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 2.6vw, 2.4rem);
  letter-spacing: 0.12em;
  text-transform: uppercase;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.45);
}

.portal-brand__sub {
  font-size: 0.7rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  color: rgba(226, 232, 240, 0.7);
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.45);
}

.portal-note {
  justify-self: end;
  text-align: right;
  max-width: 10rem;
  font-size: 0.62rem;
  line-height: 1.6;
  color: rgba(226, 232, 240, 0.8);
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.45);
  background: rgba(8, 10, 14, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 10px;
  padding: 0.5rem 0.7rem;
  align-self: start;
}

.portal-note__title {
  display: block;
  text-transform: uppercase;
  letter-spacing: 0.34em;
  margin-bottom: 0.6rem;
  font-size: 0.55rem;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.45);
}

.portal-entry {
  position: absolute;
  left: 82%;
  bottom: 16%;
  display: inline-flex;
  flex-direction: column;
  gap: 0.6rem;
  border: 0;
  background: transparent;
  color: #f8fafc;
  text-transform: uppercase;
  letter-spacing: 0.26em;
  font-size: 0.68rem;
  padding: 0;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.45);
  align-items: flex-start;
  text-align: left;
}

.portal-entry__progress {
  width: min(140px, 22vw);
  height: 2px;
  background: rgba(255, 255, 255, 0.4);
  transform: scaleX(var(--hold-progress, 0));
  transform-origin: left center;
  opacity: 0.6;
}

.portal-entry.is-holding .portal-entry__progress {
  opacity: 1;
}

.portal-poweroff {
  position: absolute;
  left: 50%;
  bottom: 10%;
  border: 1px solid rgba(255, 255, 255, 0.26);
  background: rgba(10, 12, 16, 0.7);
  color: #e2e8f0;
  text-transform: uppercase;
  letter-spacing: 0.24em;
  font-size: 0.7rem;
  padding: 0.7rem 1.6rem;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  z-index: 5;
  transform: translateX(-50%);
}

.portal-canvas.is-teleport::after {
  opacity: 0;
}

.portal-canvas.is-teleport .portal-frame {
  background: transparent;
  border-color: transparent;
  box-shadow: none;
}

.portal-canvas.is-teleport .portal-frame::before,
.portal-canvas.is-teleport .portal-frame::after {
  opacity: 0;
}

.portal-canvas.is-teleport .portal-view {
  border-color: transparent;
  border-radius: 18px;
  animation: screen-dive 1.35s ease-in-out forwards;
}

.portal-canvas.is-teleport .portal-shell {
  animation: portal-zoom 1.45s ease-in-out forwards;
}

.portal-canvas.is-teleport .portal-meta {
  opacity: 0;
  pointer-events: none;
}

.portal-canvas.is-teleport .portal-logo {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 1.2s;
}

.portal-canvas.is-teleport .portal-grain {
  opacity: 0;
  transition: opacity 1.2s ease;
}

.portal-canvas.is-teleport .portal-field {
  animation: screen-ignite 0.85s ease-out forwards;
}

.portal-canvas.is-teleport .portal-burst {
  opacity: 1;
  animation: particle-field-back 1.55s cubic-bezier(0.1, 0.5, 0.1, 1) forwards;
}

.portal-canvas.is-teleport .portal-burst::before {
  animation: particle-field-mid 1.35s cubic-bezier(0.1, 0.5, 0.1, 1) forwards;
}

.portal-canvas.is-teleport .portal-burst::after {
  animation: particle-field-front 1.2s cubic-bezier(0.1, 0.5, 0.1, 1) forwards;
}

.portal-canvas.is-teleport .portal-poweroff {
  opacity: 1;
  pointer-events: auto;
  transition-delay: 1.15s;
}

.portal-canvas.is-exit .portal-powerline {
  opacity: 0.9;
  animation: power-line 0.6s ease-out forwards;
}

.portal-canvas.is-exit .portal-shell {
  animation: portal-exit 0.7s ease forwards;
}

.portal-canvas.is-exit .portal-logo {
  opacity: 0;
  transform: translateY(6px);
  transition-delay: 0s;
}

.portal-canvas.is-exit .portal-burst {
  opacity: 0;
}

@keyframes portal-zoom {
  0% {
    transform: scale(0.98);
  }
  25% {
    transform: scale(0.94);
  }
  100% {
    transform: scale(1.28);
  }
}

@keyframes screen-dive {
  0% {
    transform: translateX(6%) scale(0.88);
    opacity: 0.4;
  }
  45% {
    opacity: 0.85;
  }
  100% {
    transform: translateX(6%) scale(1.45);
    opacity: 1;
  }
}

@keyframes power-line {
  0% {
    opacity: 0.9;
    transform: scaleX(1);
  }
  100% {
    opacity: 0;
    transform: scaleX(0.2);
  }
}

@keyframes power-line-on {
  0% {
    opacity: 0;
    transform: scaleX(0.1);
  }
  45% {
    opacity: 0.85;
    transform: scaleX(1);
  }
  100% {
    opacity: 0;
    transform: scaleX(1);
  }
}

@keyframes portal-exit {
  0% {
    transform: scale(1.22);
  }
  100% {
    transform: scale(0.98);
  }
}

@keyframes screen-ignite {
  0% {
    opacity: 0;
    transform: scaleX(0.25) scaleY(0.05);
  }
  40% {
    opacity: 0.85;
    transform: scaleX(1) scaleY(0.08);
  }
  100% {
    opacity: 0;
    transform: scaleX(1.02) scaleY(1);
  }
}

@keyframes particle-field-back {
  0% {
    opacity: 0;
    transform: translate3d(0, 6px, -320px) scale(0.4);
  }
  35% {
    opacity: 0.6;
    transform: translate3d(0, 3px, -120px) scale(0.9);
  }
  100% {
    opacity: 0;
    transform: translate3d(0, -10px, 420px) scale(2.1);
  }
}

@keyframes particle-field-mid {
  0% {
    opacity: 0;
    transform: translate3d(0, 4px, -220px) scale(0.45);
  }
  30% {
    opacity: 0.75;
    transform: translate3d(0, 2px, -60px) scale(0.95);
  }
  100% {
    opacity: 0;
    transform: translate3d(0, -14px, 520px) scale(2.6);
  }
}

@keyframes particle-field-front {
  0% {
    opacity: 0;
    transform: translate3d(0, 2px, -140px) scale(0.6);
  }
  25% {
    opacity: 0.85;
    transform: translate3d(0, 0, 10px) scale(1.1);
  }
  100% {
    opacity: 0;
    transform: translate3d(0, -18px, 640px) scale(3);
  }
}

@media (max-width: 900px) {
  .portal-shell {
    height: min(680px, 78vh);
  }

  .portal-meta {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr auto;
  }

  .portal-note {
    justify-self: start;
    text-align: left;
    max-width: 18rem;
  }
}

@media (max-width: 720px) {
  .portal-shell {
    height: min(560px, 68vh);
  }

  .portal-frame {
    border-radius: 20px;
  }

  .portal-view {
    inset: 8%;
    border-radius: 16px;
  }

  .portal-entry {
    left: 70%;
    bottom: 12%;
  }

  .portal-entry__progress {
    width: min(120px, 55vw);
  }
}

@media (max-width: 520px) {
  .portal-shell {
    height: min(520px, 70vh);
  }
}

.hero-field {
  position: relative;
  width: 100%;
  height: 100%;
  display: block;
  padding: 0;
  overflow: hidden;
  isolation: isolate;
  --pointer-x: 0;
  --pointer-y: 0;
}

.hero-wireframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

.hero-links {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 5000;
}

.hero-links line {
  stroke: rgba(255, 255, 255, 1);
  stroke-width: 1.6;
  opacity: 0;
  transition: opacity 0.2s ease;
  vector-effect: non-scaling-stroke;
}

.hero-link-line {
  stroke-dasharray: 8 10;
}

.hero-link-cross {
  stroke-dasharray: none;
  stroke-width: 2.2;
}

.hero-links text {
  fill: rgba(255, 255, 255, 1);
  font-size: 14px;
  font-family: var(--font-mono);
  letter-spacing: 0.12em;
  opacity: 0;
  transition: opacity 0.2s ease;
  paint-order: stroke;
  stroke: rgba(0, 0, 0, 0.65);
  stroke-width: 2px;
  text-anchor: end;
  dominant-baseline: central;
}

.hero-wireframe path {
  fill: none;
  stroke: rgba(255, 255, 255, 0.22);
  stroke-width: 1;
  opacity: 0.6;
}

.hero-field::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 18% 20%, rgba(255, 255, 255, 0.08), transparent 55%),
    radial-gradient(circle at 82% 28%, rgba(255, 255, 255, 0.06), transparent 60%),
    linear-gradient(135deg, rgba(188, 192, 198, 0.9) 0%, rgba(152, 158, 168, 0.88) 45%, rgba(124, 128, 136, 0.92) 100%);
  opacity: 0.98;
  z-index: 0;
}

.hero-field.is-holding::before {
  opacity: 0.9;
}

.hero-field::after {
  content: "";
  position: absolute;
  inset: -20%;
  background-image:
    linear-gradient(rgba(0, 0, 0, 0.12) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.08) 1px, transparent 1px),
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.08) 0px,
      rgba(255, 255, 255, 0.08) 1px,
      transparent 2px,
      transparent 6px
    );
  background-size: 120px 120px, 120px 120px, 100% 6px;
  opacity: 0.22;
  z-index: 0;
}

.hero-tile {
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 2;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 0.6rem;
  padding: clamp(0.9rem, 2vw, 1.5rem);
  width: var(--tile-w, clamp(180px, 22vw, 320px));
  height: var(--tile-h, clamp(120px, 14vw, 200px));
  border-radius: 18px;
  border: 1px solid rgba(20, 24, 32, 0.35);
  background: #131821;
  color: #f3f4f6;
  text-align: left;
  appearance: none;
  cursor: pointer;
  --hover-scale: 1;
  transition: transform 0.25s ease 0.22s, opacity 0.25s ease 0.22s, border-color 0.25s ease;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 0.62rem;
  touch-action: manipulation;
  transform-style: preserve-3d;
  backface-visibility: visible;
}

.hero-tile__label {
  font-family: var(--font-display);
  font-size: 0.95rem;
  letter-spacing: 0.05em;
  text-transform: none;
  color: rgba(248, 250, 252, 0.95);
  transform: translateZ(0);
  position: relative;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.45);
  z-index: 2;
}

.hero-tile__detail {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  color: rgba(226, 232, 240, 0.85);
  transform: translateZ(0);
  position: relative;
  z-index: 2;
}

.hero-tile::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background:
    radial-gradient(
      circle at var(--ripple-x, 50%) var(--ripple-y, 50%),
      rgba(255, 255, 255, 0.22) 0%,
      rgba(255, 255, 255, 0.1) 18%,
      rgba(255, 255, 255, 0) 55%
    );
  opacity: 0;
  pointer-events: none;
}

.hero-tile::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(160deg, rgba(6, 8, 12, 0.95) 0%, rgba(0, 0, 0, 0.9) 100%);
  opacity: 0.85;
  pointer-events: none;
  z-index: 1;
  transform: scale(1);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.hero-tile:hover,
.hero-tile:focus-visible {
  --hover-scale: 1.015;
  border-color: rgba(255, 255, 255, 0.28);
}

.hero-tile:active {
  opacity: 0.95;
}

.hero-tile:hover::after,
.hero-tile:focus-visible::after {
  opacity: 0.95;
  transform: scale(1.02);
}

.hero-tile__progress {
  position: absolute;
  left: 12%;
  right: 12%;
  bottom: 12px;
  height: 2px;
  background: rgba(255, 255, 255, 0.45);
  transform: scaleX(var(--hold-progress, 0));
  transform-origin: left center;
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
  z-index: 2;
}

.hero-tile--focus .hero-tile__progress {
  opacity: 0.3;
}

.hero-tile--focus.is-holding .hero-tile__progress {
  opacity: 0.85;
}

.hero-tile.is-rippling::before {
  animation: tile-ripple 0.6s ease-out forwards;
}

.hero-tile--core {
  background: #1a1f28;
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
}

.hero-tile--glass {
  background: #151a22;
  border-color: rgba(255, 255, 255, 0.16);
}

.hero-tile--hollow {
  background: #10141b;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.hero-tile--pulse {
  border-color: rgba(255, 255, 255, 0.28);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
}

.hero-tile--glow {
  border-color: rgba(255, 255, 255, 0.2);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
}

.hero-tile--signal {
  background: #1b1f26;
  border-color: rgba(255, 240, 170, 0.35);
}

.hero-tile--ice {
  background: #1a202a;
  border-color: rgba(210, 228, 255, 0.4);
  color: #f8fafc;
}

.hero-tile--focus {
  will-change: transform, opacity;
}

.hero-tile--oxide {
  background: #2a1d17;
  border-color: rgba(255, 180, 140, 0.35);
}

.hero-tile--amber {
  background: #2b2415;
  border-color: rgba(255, 210, 140, 0.35);
}

.hero-tile--teal {
  background: #132428;
  border-color: rgba(120, 220, 210, 0.35);
}

.hero-tile--rose {
  background: #261a22;
  border-color: rgba(235, 170, 190, 0.35);
}

.hero-tile--steel {
  background: #1c2028;
  border-color: rgba(200, 210, 230, 0.28);
}

.hero-tile--jade {
  background: #15231f;
  border-color: rgba(120, 230, 190, 0.32);
}

.hero-tile--neon {
  background: #1a1f2b;
  border-color: rgba(120, 190, 255, 0.35);
}

.hero-tile--chalk {
  background: #161b22;
  border-color: rgba(210, 210, 210, 0.35);
  color: #f8fafc;
}

@keyframes tile-float {
  0%,
  100% {
    transform:
      translate(-50%, -50%)
      translate3d(var(--pos-x, 0px), var(--pos-y, 0px), 0)
      translate3d(
        calc(var(--pointer-x) * 26px * var(--depth, 1) * var(--px, 1) + var(--scatter-x, 0px) + var(--jit-x, 0px)),
        calc(var(--pointer-y) * 20px * var(--depth, 1) * var(--py, 1) + var(--scatter-y, 0px) + var(--jit-y, 0px)),
        0
      )
      translate3d(var(--repel-x, 0px), var(--repel-y, 0px), 0)
      rotateZ(calc(var(--tilt, 0) * 1deg + var(--jit-tilt, 0deg)))
      scale(1);
  }
  50% {
    transform:
      translate(-50%, -50%)
      translate3d(var(--pos-x, 0px), var(--pos-y, 0px), 0)
      translate3d(
        calc(var(--pointer-x) * 30px * var(--depth, 1) * var(--px, 1) + var(--scatter-x, 0px) + var(--jit-x, 0px)),
        calc(var(--pointer-y) * 24px * var(--depth, 1) * var(--py, 1) + 6px + var(--scatter-y, 0px) + var(--jit-y, 0px)),
        0
      )
      translate3d(var(--repel-x, 0px), var(--repel-y, 0px), 0)
      rotateZ(calc(var(--tilt, 0) * 1deg + var(--jit-tilt, 0deg)))
      scale(1.01);
  }
}

@keyframes tile-ripple {
  0% {
    opacity: 0.7;
  }
  100% {
    opacity: 0;
  }
}

@keyframes grain-drift {
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(-12px, -18px, 0);
  }
}

@media (max-width: 900px) {
  .hero-field {
    padding: 2.5rem 1.5rem 3.5rem;
  }

  .hero-tile {
    border-radius: 16px;
  }
}

@media (max-width: 600px) {
  .hero-field {
    padding: 2rem 1.25rem 3rem;
  }

  .hero-tile {
    border-radius: 14px;
  }
}

h1,
h2,
h3,
h4 {
  font-family: var(--font-display);
  letter-spacing: -0.02em;
}

::selection {
  background: rgba(45, 212, 191, 0.35);
}

.grid-lines {
  position: absolute;
  inset: -20%;
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.08) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.08) 1px, transparent 1px);
  background-size: 160px 160px;
  opacity: 0.28;
  transform: translateZ(0);
}

.grid-lines::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.12) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.12) 1px, transparent 1px);
  background-size: 48px 48px;
  opacity: 0.35;
}

.grid-mask {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 10%, rgba(255, 255, 255, 0.08), transparent 55%),
    radial-gradient(circle at 80% 30%, rgba(255, 255, 255, 0.05), transparent 60%),
    radial-gradient(circle at 50% 80%, rgba(255, 255, 255, 0.04), transparent 55%);
  pointer-events: none;
}

.noise-layer {
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='0.2'/%3E%3C/svg%3E");
  mix-blend-mode: screen;
  opacity: 0.12;
  pointer-events: none;
}

.scanlines {
  position: absolute;
  inset: 0;
  background-image: linear-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px);
  background-size: 100% 6px;
  opacity: 0.2;
  pointer-events: none;
}

.vignette {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, transparent 60%, rgba(0, 0, 0, 0.22) 100%);
  pointer-events: none;
}

.studio-scene {
  position: absolute;
  inset: -12%;
  overflow: hidden;
  pointer-events: none;
  --parallax-x: 0px;
  --parallax-y: 0px;
  --idle-x: 0px;
  --idle-y: 0px;
  transform: translateZ(0);
}

.studio-base {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 12%, rgba(255, 255, 255, 0.2), transparent 58%),
    radial-gradient(circle at 85% 18%, rgba(255, 255, 255, 0.16), transparent 60%),
    radial-gradient(circle at 50% 82%, rgba(255, 255, 255, 0.1), transparent 65%),
    linear-gradient(150deg, #050607 0%, #0c0f16 45%, #111622 72%, #151b26 100%);
  transform: translate3d(
    calc(var(--idle-x) * 0.08 + var(--parallax-x) * 0.06),
    calc(var(--idle-y) * 0.08 + var(--parallax-y) * 0.05),
    0
  );
}


@media (prefers-reduced-motion: reduce) {
  .studio-scene,
  .studio-scene * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
  }

  .hero-tile {
    animation: none !important;
    transition-duration: 0.001ms !important;
  }
}
